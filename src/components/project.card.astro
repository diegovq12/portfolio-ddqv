---
interface Props {
  title: string;
  description: string;
  technologies: string[];
  images: string[];
}

const { title, description, technologies, images } = Astro.props;
---

<div class="project-card">
  <!-- Galería de imágenes -->

  <div class="image-gallery">
    <!-- Imagen principal -->
    <img
      src={import.meta.env.BASE_URL + images[0]}
      alt={`Imagen de ${title}`}
      class="main-image"
    />

    <!-- Miniaturas -->
    <div class="thumbnails">
      {
        images.map((img, index) => (
          <img
            src={import.meta.env.BASE_URL + img}
            alt={`Thumbnail ${index + 1}`}
            class="thumbnail"
            onclick={`changeMainImage('${img}')`}
          />
        ))
      }
    </div>
  </div>
</div>

<!-- Información del proyecto -->
<div class="info">
  <h3 class="title">{title}</h3>
  <p class="description">{description}</p>
  <div class="technologies">
    {technologies.map((tech) => <span class="tech-tag">{tech}</span>)}
  </div>
</div>

<script>
  export interface Props {
    images: string[];
    title: string;
  }

  // Función para manejar el cambio de imagen principal
  function changeMainImage(img: string) {
    const mainImage = document.querySelector(
      ".image-gallery .main-image",
    ) as HTMLImageElement | null;
    if (mainImage) {
      mainImage.src = import.meta.env.BASE_URL + img;
    }
  }
</script>
<style>
  .project-card {
    display: flex;
    gap: 1.5rem;
    margin-bottom: 2rem;
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .image-gallery {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #f7f7f7;
    padding: 1rem;
  }

  .image-gallery img {
    width: 100%;
    height: auto;
    border-radius: 4px;
    object-fit: cover;
  }

  .thumbnails {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
  }

  .thumbnail {
    width: 50px;
    height: 50px;
    border-radius: 4px;
    object-fit: cover;
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .thumbnail:hover {
    transform: scale(1.1);
  }

  .info {
    flex: 2;
    padding: 1.5rem;
  }

  .title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
    color: #333;
  }

  .description {
    font-size: 1rem;
    margin-bottom: 1rem;
    color: #555;
  }

  .technologies {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .tech-tag {
    background-color: #e3e3e3;
    padding: 0.4rem 0.8rem;
    border-radius: 4px;
    font-size: 0.9rem;
    color: #555;
    font-weight: bold;
    text-transform: uppercase;
  }
</style>
